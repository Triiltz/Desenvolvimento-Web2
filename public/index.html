<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FIZY - Busca de Combustíveis</title>
    <link rel="stylesheet" href="../src/styles/pages/index.css">
    <link rel="stylesheet" href="../src/styles/base/global.css">
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" 
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" 
          crossorigin=""/>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Map Container -->
        <div id="map" class="map-container"></div>

        <!-- Header Overlay -->
        <header class="app-header">
            <button class="config-button" id="configButton" aria-label="Configurações">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12.85 2C13.73 2 14.44 2.67 14.5 3.54L14.65 5.17C15.12 5.4 15.56 5.67 15.96 5.98L17.5 5.31C18.32 5 19.23 5.3 19.68 6.03L20.54 7.47C20.99 8.2 20.85 9.15 20.19 9.73L18.97 10.65C19.01 11.1 19.01 11.55 18.97 12L20.19 12.92C20.85 13.5 20.99 14.45 20.54 15.18L19.68 16.62C19.23 17.35 18.32 17.65 17.5 17.34L15.96 16.67C15.56 16.98 15.12 17.25 14.65 17.48L14.5 19.11C14.44 19.98 13.73 20.65 12.85 20.65H11.15C10.27 20.65 9.56 19.98 9.5 19.11L9.35 17.48C8.88 17.25 8.44 16.98 8.04 16.67L6.5 17.34C5.68 17.65 4.77 17.35 4.32 16.62L3.46 15.18C3.01 14.45 3.15 13.5 3.81 12.92L5.03 12C4.99 11.55 4.99 11.1 5.03 10.65L3.81 9.73C3.15 9.15 3.01 8.2 3.46 7.47L4.32 6.03C4.77 5.3 5.68 5 6.5 5.31L8.04 5.98C8.44 5.67 8.88 5.4 9.35 5.17L9.5 3.54C9.56 2.67 10.27 2 11.15 2H12.85ZM12 8.5C10.07 8.5 8.5 10.07 8.5 12S10.07 15.5 12 15.5S15.5 13.93 15.5 12S13.93 8.5 12 8.5Z" fill="white"/>
                </svg>
            </button>

            <div class="search-container">
                <div class="search-bar" id="searchBar">
                    <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 19L14.65 14.65M17 9C17 13.4183 13.4183 17 9 17C4.58172 17 1 13.4183 1 9C1 4.58172 4.58172 1 9 1C13.4183 1 17 4.58172 17 9Z" stroke="#6B6867" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <input type="text" placeholder="Buscar postos de combustível..." id="searchInput">
                    <button class="location-button" id="locationButton" aria-label="Usar minha localização">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10 2V4M10 16V18M18 10H16M4 10H2M15.656 4.344L14.243 5.757M5.757 14.243L4.344 15.656M15.656 15.656L14.243 14.243M5.757 5.757L4.344 4.344" stroke="#FE4F02" stroke-width="2" stroke-linecap="round"/>
                            <circle cx="10" cy="10" r="3" stroke="#FE4F02" stroke-width="2"/>
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <!-- Station Details Modal -->
        <div class="station-modal" id="stationModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modalStationName">Posto Petrobras</h2>
                    <button class="close-button" id="closeModal">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                </div>
                
                <div class="modal-body">
                    <div class="station-rating">
                        <div class="stars" id="modalStars">
                            <!-- Stars will be generated by JavaScript -->
                        </div>
                        <span class="rating-text" id="modalRating">4.5 de 5</span>
                    </div>
                    
                    <div class="station-info">
                        <div class="info-item">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M8 2C5.79 2 4 3.79 4 6C4 9.5 8 14 8 14S12 9.5 12 6C12 3.79 10.21 2 8 2ZM8 7.5C7.17 7.5 6.5 6.83 6.5 6S7.17 4.5 8 4.5S9.5 5.17 9.5 6S8.83 7.5 8 7.5Z" fill="#6B6867"/>
                            </svg>
                            <div>
                                <p class="info-label">Endereço</p>
                                <p class="info-value" id="modalAddress">Av Prof Luiz A.de Oliveira, 366 - Vila Marina</p>
                            </div>
                        </div>
                        
                        <div class="info-item">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M8 1C4.13 1 1 4.13 1 8S4.13 15 8 15S15 11.87 15 8S11.87 1 8 1ZM8.5 11.5H7.5V7.5H8.5V11.5ZM8.5 6.5H7.5V5.5H8.5V6.5Z" fill="#6B6867"/>
                            </svg>
                            <div>
                                <p class="info-label">Distância</p>
                                <p class="info-value" id="modalDistance">150m de você</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="fuel-prices">
                        <h3>Preços dos Combustíveis</h3>
                        <div class="fuel-grid" id="modalFuelGrid">
                            <!-- Fuel prices will be generated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="modal-actions">
                        <button class="action-button secondary" id="favoriteButton">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M10 17.5L8.825 16.45C4.8 12.86 2 10.39 2 7.5C2 5.5 3.5 4 5.5 4C6.64 4 7.74 4.57 8.5 5.5C9.26 4.57 10.36 4 11.5 4C13.5 4 15 5.5 15 7.5C15 10.39 12.2 12.86 8.175 16.45L10 17.5Z" stroke="currentColor" stroke-width="1.5" fill="none"/>
                            </svg>
                            Favoritar
                        </button>
                        <button class="action-button primary" id="navigateButton">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M3 7L17 3L13 17L10 10L3 7Z" fill="currentColor"/>
                            </svg>
                            Como chegar
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading Spinner -->
        <div class="loading-spinner" id="loadingSpinner">
            <div class="spinner"></div>
            <p>Localizando postos próximos...</p>
        </div>
    </div>

    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" 
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" 
            crossorigin=""></script>
    
    <!-- Custom JavaScript -->
    <script src="../src/scripts/app.js"></script>
</body>
</html>
